<!DOCTYPE html>
<html data-bs-theme="dark">
<head>
    <title>Dashboard - {{.Username}}</title>
    <!-- {{ template "Header" . }} -->
    <link rel="stylesheet" href="/static/css/modal.css">

</head>
<body>
	{{ template "Header" . }}
	<br>
	<div style = "margin:auto; text-align:center;">
    		<h1 style = "text-transform:capitalize;"><p id="good_message"></p> {{.Username}}</h1>
		<input id="iv" type="hidden" value="{{.AESKey}}">
	<div>

	<div class="d-flex container">
	<div class="flex-grow-1 flex-wrap">

		<ul>
			<h2>List of Stickies</h2>
			{{ range .Stickies }}
				<div class="sticky card text-white bg-dark mb-3 mx-auto" style="margin:auto; width:75%; padding:10px;">
					<div class="card-header" id="T-{{.DashID}}" value="{{.Title}}">{{.Title}}</div>
					<div class="card-body">
						<p class="card-text" id="D-{{.DashID}}" value="{{.Description}}">{{.Description}}</p>
						
						<button class="button btn btn-warning open-button" data-modal-id="M-{{.DashID}}" data-title="{{.Title}}" data-description="{{.Description}}" data-id="{{.ID}}">ðŸ–‰</button>

						<button id="{{.ID}}" onclick="postDeleteSticky(this.id)" class="btn btn-danger">â“§</button>
					</div>
				</div>

				<br>

			{{ end }}
		</ul>


                <a href="/addSticky" class="btn btn-primary">Add Sticky</a>
	</div>

	<div class="flex-grow-1 flex-wrap">
		<ul>
			<h2>List of Cards</h2>
			{{ range .Cards }}
				<div class="my_card card text-white bg-dark mb-3 mx-auto" style="margin:auto; width:75%; padding:10px;">
					<div class="card-header">
						<p id="Card-CardBank-{{.DashID}}">{{.CardBank}}</p>
						<p id="Card-CardName-{{.DashID}}">{{.CardName}}</p>
					</div>
					
					<div class="card-body">
						<p class="card-text" id="Card-Balance-{{.DashID}}">{{.Balance}}</p>
						<p class="card-text" id="Card-DueDate-{{.DashID}}">{{.DueDate}}</p>
						<button class="btn btn-warning">Edit</button>
						<button id="{{.ID}}" onclick="postDeleteCard(this.id)" class="btn btn-danger">Delete</button>
					</div>
				</div>
			{{ end }}
		</ul>

		<br><br>
		<a href="/addCard" class="btn btn-primary">Add Card</a>

	</div>
	</div>

	<!-- The Modal -->
    <dialog id="myModal">
        <form class="form" method="dialog">
            <span class="close btn btn-danger">Cancel</span>
            <label for="title">Title:</label>
            <input type="text" id="title" name="title"><br><br>
            <label for="description">Description:</label>
            <input type="text" id="description" name="description"><br>
            <input type="submit" class="btn btn-success"value="Submit">
        </form>
    </dialog>

	<script type="text/javascript" src="/static/js/edit.js"></script>
	<script type="text/javascript" src="/static/js/crypto-js.min.js"></script>
	<script type="text/javascript" src="/static/js/time.js"></script>
	<script type="text/javascript" src="/static/js/card.js"></script>
	<script type="text/javascript" src="/static/js/sticky.js"></script>
	<script type="text/javascript" src="/static/js/encrypt.js"></script>
	<script type="text/javascript" src="/static/js/decrypt.js"></script>

	<script type="text/javascript" src="/static/js/crypto-3_1_9-1.js"></script>
	<script type="text/javascript" src="/static/js/dashboard.js"></script>


</body>
</html>
